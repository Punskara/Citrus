<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Wed, 01 Feb 2012 11:19:50 +0000">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css">
<link rel="start" href="../../overview-summary.html">

<title>Controller (PHPDoctor)</title>

</head>
<div class="header">
<ul>
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="../../citrus/mvc/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../citrus/mvc/package-tree.html">Tree</a></li>
<li><a href="../../overview-files.html">Files</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../todo-list.html">Todo</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>

<div class="apiContent"><div class="small_links">
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Citrus\mvc\Controller</div>
<a href="../../source/mvc/controller.php.html#line39" class="location">mvc/Controller.php at line 39</a>

<h1>Class Controller</h1>

<pre class="tree"><strong>Controller</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Controller</strong></p>

<div class="comment" id="overview_description"><p>The C in MVC. Communicate with Citrus, the Model and the View to
execute the right action.</p></div>

<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#action">$action</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#layout">$layout</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#metadesc">$metadesc</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#metakey">$metakey</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#moduleName">$moduleName</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#pageTitle">$pageTitle</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#path">$path</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> <a href="../../citrus/http/request.html">Request</a></td>
<td class="description"><p class="name"><a href="#request">$request</a></p><p class="description"></p></td>
</tr>
<tr>
<td class="type"> <a href="../../citrus/mvc/template.html">Template</a></td>
<td class="description"><p class="name"><a href="#template">$template</a></p><p class="description"></p></td>
</tr>
</table>

<table id="summary_constructor">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__construct()">__construct</a>(string action)</p><p class="description">Contructor</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#executeAction()">executeAction</a>()</p><p class="description">Executes the action given by request. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_Exception()">do_Exception</a>(<a href="../../citrus/sys/exception.html">Exception</a> e)</p><p class="description">Exception action : action that is executed if the system catches an exception.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_PageNotFound()">do_PageNotFound</a>(string message)</p><p class="description">Is executed if the action doesn't exist.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#actionExists()">actionExists</a>()</p><p class="description">Determines if the action exists.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#displayTemplate()">displayTemplate</a>(string path)</p><p class="description">Display the action template.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#loadActionTemplate()">loadActionTemplate</a>(string action)</p><p class="description">Loads the template of another action than the action given.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_save()">do_save</a>()</p><p class="description">Generic function to save an object in database. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_delete()">do_delete</a>(string resourceType)</p><p class="description">Generic function to delete an object from database.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_deleteSeveral()">do_deleteSeveral</a>(string resourceType)</p><p class="description">Generic function to delete several objects from database.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#do_captcha()">do_captcha</a>()</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<a href="../../source/mvc/controller.php.html#line44" class="location">mvc/Controller.php at line 44</a>

<h3 id="action">action</h3>
<code class="signature">public  string <strong>$action</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line64" class="location">mvc/Controller.php at line 64</a>

<h3 id="layout">layout</h3>
<code class="signature">public  boolean <strong>$layout</strong> = true</code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line69" class="location">mvc/Controller.php at line 69</a>

<h3 id="metadesc">metadesc</h3>
<code class="signature">public  string <strong>$metadesc</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line74" class="location">mvc/Controller.php at line 74</a>

<h3 id="metakey">metakey</h3>
<code class="signature">public  string <strong>$metakey</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line84" class="location">mvc/Controller.php at line 84</a>

<h3 id="moduleName">moduleName</h3>
<code class="signature">public  string <strong>$moduleName</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line59" class="location">mvc/Controller.php at line 59</a>

<h3 id="pageTitle">pageTitle</h3>
<code class="signature">public  string <strong>$pageTitle</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line79" class="location">mvc/Controller.php at line 79</a>

<h3 id="path">path</h3>
<code class="signature">public  string <strong>$path</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line49" class="location">mvc/Controller.php at line 49</a>

<h3 id="request">request</h3>
<code class="signature">public  <a href="../../citrus/http/request.html">Request</a> <strong>$request</strong></code>
<div class="details">
<p></p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line54" class="location">mvc/Controller.php at line 54</a>

<h3 id="template">template</h3>
<code class="signature">public  <a href="../../citrus/mvc/template.html">Template</a> <strong>$template</strong></code>
<div class="details">
<p></p></div>

<hr>

<h2 id="detail_method">Constructor Detail</h2>
<a href="../../source/mvc/controller.php.html#line91" class="location">mvc/Controller.php at line 91</a>

<h3 id="__construct()">__construct</h3>
<code class="signature">public  void <strong>__construct</strong>(string action)</code>
<div class="details">
<p>Contructor</p><dl>
<dt>Parameters:</dt>
<dd>action - Name of the action we want to execute.</dd>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<a href="../../source/mvc/controller.php.html#line106" class="location">mvc/Controller.php at line 106</a>

<h3 id="executeAction()">executeAction</h3>
<code class="signature">public  void <strong>executeAction</strong>()</code>
<div class="details">
<p>Executes the action given by request.
Stops if the request method is POST and referer is external.
Creates the http response and executes do_PageNotFound if action
doesn't exist.</p><dl>
<dt>See Also:</dt>
<dd><a href="../../citrus/mvc/controller.html#do_PageNotFound()">do_PageNotFound</a></dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line149" class="location">mvc/Controller.php at line 149</a>

<h3 id="do_Exception()">do_Exception</h3>
<code class="signature">public  void <strong>do_Exception</strong>(<a href="../../citrus/sys/exception.html">Exception</a> e)</code>
<div class="details">
<p>Exception action : action that is executed if the system catches an exception.</p><dl>
<dt>Parameters:</dt>
<dd>e - The exception to handle.</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line160" class="location">mvc/Controller.php at line 160</a>

<h3 id="do_PageNotFound()">do_PageNotFound</h3>
<code class="signature">public  void <strong>do_PageNotFound</strong>(string message)</code>
<div class="details">
<p>Is executed if the action doesn't exist.</p><dl>
<dt>Parameters:</dt>
<dd>message - A message to display in the 404 page.</dd>
<dt>See Also:</dt>
<dd>\core\Citrus\Citrus::pageNotFound()</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line169" class="location">mvc/Controller.php at line 169</a>

<h3 id="actionExists()">actionExists</h3>
<code class="signature">public  boolean <strong>actionExists</strong>()</code>
<div class="details">
<p>Determines if the action exists.</p><dl>
<dt>Returns:</dt>
<dd>True if the method exists, else false.</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line181" class="location">mvc/Controller.php at line 181</a>

<h3 id="displayTemplate()">displayTemplate</h3>
<code class="signature">public  string <strong>displayTemplate</strong>(string path)</code>
<div class="details">
<p>Display the action template.</p><dl>
<dt>Parameters:</dt>
<dd>path - The path to the template.</dd>
<dt>Returns:</dt>
<dd>The content of the template.</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line190" class="location">mvc/Controller.php at line 190</a>

<h3 id="loadActionTemplate()">loadActionTemplate</h3>
<code class="signature">public  void <strong>loadActionTemplate</strong>(string action)</code>
<div class="details">
<p>Loads the template of another action than the action given.</p><dl>
<dt>Parameters:</dt>
<dd>action - the action which we want to load the template</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line204" class="location">mvc/Controller.php at line 204</a>

<h3 id="do_save()">do_save</h3>
<code class="signature">public  void <strong>do_save</strong>()</code>
<div class="details">
<p>Generic function to save an object in database. Only accessible in POST method.
This function saves the object, upload the files if needed ans redirects to the
index of the module of the app. If used with AJAX, this will only display "ok".</p></div>

<hr>

<a href="../../source/mvc/controller.php.html#line257" class="location">mvc/Controller.php at line 257</a>

<h3 id="do_delete()">do_delete</h3>
<code class="signature">public  void <strong>do_delete</strong>(string resourceType)</code>
<div class="details">
<p>Generic function to delete an object from database.
This function saves the object, upload the files if needed ans redirects to the
index of the module of the app.</p><dl>
<dt>Parameters:</dt>
<dd>resourceType - Name of the class of the object we want to delete.</dd>
<dt>Todo:</dt>
<dd>Throw an exception if class $resourceType doesn't exist</dd>
<dd>Prevent this function to be executed if method is not POST</dd>
<dd>Handle the case that the request is sent with AJAX.</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line281" class="location">mvc/Controller.php at line 281</a>

<h3 id="do_deleteSeveral()">do_deleteSeveral</h3>
<code class="signature">public  void <strong>do_deleteSeveral</strong>(string resourceType)</code>
<div class="details">
<p>Generic function to delete several objects from database.
This function saves the object, upload the files if needed ans redirects to the
index of the module of the app.</p><dl>
<dt>Parameters:</dt>
<dd>resourceType - Name of the class of the object we want to delete.</dd>
<dt>Todo:</dt>
<dd>Throw an exception if class $resourceType doesn't exist</dd>
<dd>Prevent this function to be executed if method is not POST</dd>
<dd>Handle the case that the request is sent with AJAX.</dd>
</dl>
</div>

<hr>

<a href="../../source/mvc/controller.php.html#line292" class="location">mvc/Controller.php at line 292</a>

<h3 id="do_captcha()">do_captcha</h3>
<code class="signature">public  void <strong>do_captcha</strong>()</code>
<div class="details">
</div>

<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</div>

</body>

</html>